#!/bin/bash
#elaborado por sinfallas
if [[ $USER != root ]]; then
echo "Ejecutar como root"
exit 1
fi
echo -e "## CPU ##""\n" > /tmp/reporte-entorno
lscpu >> /tmp/reporte-entorno
echo -e "\n""## HARDWARE ##""\n" >> /tmp/reporte-entorno
lshw -short >> /tmp/reporte-entorno
echo -e "\n""## MEMORIA ##""\n" >> /tmp/reporte-entorno
free -h >> /tmp/reporte-entorno
echo -e "\n""## DISCO ##""\n" >> /tmp/reporte-entorno
df -h >> /tmp/reporte-entorno
echo -e "\n""## LAPTOP ##""\n" >> /tmp/reporte-entorno
echo $(laptop-detect -v 2>&1) >> /tmp/reporte-entorno
echo -e "\n""## INSTALACION ##""\n" >> /tmp/reporte-entorno
if ! [[ -d /lib/live/mount/medium ]] ; then
	echo "Xanadu esta ejecutandose desde una instalacion." >> /tmp/reporte-entorno
else
	echo "Xanadu esta ejecutandose en modo live." >> /tmp/reporte-entorno
fi
echo -e "\n""## VIRTUALIZACION ##""\n" >> /tmp/reporte-entorno
virt-what >> /tmp/reporte-entorno
clear
echo -e "\n""El reporte se ha generado en /tmp/reporte-entorno"
exit 0
