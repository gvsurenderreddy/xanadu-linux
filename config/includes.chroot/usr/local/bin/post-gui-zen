#!/bin/bash
#elaborado por sinfallas
source /usr/local/bin/variables

if ! [[ -d /lib/live/mount/medium ]] ; then
	optimizacion_1 | zenity --progress --pulsate --no-cancel --text "Iniciando post-instalador, por favor espere" --auto-close
else
	zenity --error --text="Este programa no se puede ejecutar en modo live."
	exit 1
fi

file=$(zenity --width=360 --height=420 --list --title Post-instalacion --column Acciones "Instalar KDE" "Instalar GNOME" "Instalar XFCE" "Instalar ENLIGHTENMENT" "Instalar CINNAMON" "Instalar WINE" "Instalar XBMC" "Instalar driver ATI" "Instalar driver NVIDIA" "Instalar kernel LIQUORIX" "Instalar ICEDOVE")

if [ "$file" = "Instalar KDE" ]; then
	if zenity --question --text="Debe tener un equipo con 2 Gb de RAM o mas ¿Esta seguro de querer instalar este software?"; then
		kde_1 | progress_1
	else
		source $0
	fi	
	source $0

elif [ "$file" = "Instalar GNOME" ]; then
	if zenity --question --text="Debe tener un equipo con 2 Gb de RAM o mas ¿Esta seguro de querer instalar este software?"; then
		gnome_1 | progress_1
	else
		source $0
	fi	
	source $0

elif [ "$file" = "Instalar XFCE" ]; then
	if zenity --question --text="Debe tener un equipo con 1 Gb de RAM o mas ¿Esta seguro de querer instalar este software?"; then
		xfce_1 | progress_1
	else
		source $0
	fi	
	source $0

elif [ "$file" = "Instalar ENLIGHTENMENT" ]; then
	if zenity --question --text="Debe tener un equipo con 1 Gb de RAM o mas ¿Esta seguro de querer instalar este software?"; then
		e17_1 | progress_1
	else
		source $0
	fi	
	source $0

elif [ "$file" = "Instalar CINNAMON" ]; then
	if zenity --question --text="Debe tener un equipo con 2 Gb de RAM o mas ¿Esta seguro de querer instalar este software?"; then
		cinnamon_1 | progress_1
	else
		source $0
	fi	
	source $0

elif [ "$file" = "Instalar WINE" ]; then
	if zenity --question --text="Debe tener un equipo con 2 Gb de RAM o mas ¿Esta seguro de querer instalar este software?"; then
		wine_1 | progress_1
	else
		source $0
	fi	
	source $0

elif [ "$file" = "Instalar XBMC" ]; then
	if zenity --question --text="Debe tener un equipo con 2 Gb de RAM o mas ¿Esta seguro de querer instalar este software?"; then
		xbmc_1 | progress_1
	else
		source $0
	fi	
	source $0

elif [ "$file" = "Instalar driver ATI" ]; then
	if zenity --question --text="¿Esta seguro de querer instalar este software?"; then
		ati_1 | progress_1
	else
		source $0
	fi	
	source $0	

elif [ "$file" = "Instalar driver NVIDIA" ]; then
	if zenity --question --text="¿Esta seguro de querer instalar este software?"; then
		nvidia_1 | progress_1
	else
		source $0
	fi	
	source $0	

elif [ "$file" = "Instalar kernel LIQUORIX" ]; then
	if zenity --question --text="¿Esta seguro de querer instalar este software?"; then
		liquorix_1 | progress_1
	else
		source $0
	fi	
	source $0	

elif [ "$file" = "Instalar ICEDOVE" ]; then
	if zenity --question --text="¿Esta seguro de querer instalar este software?"; then
		icedove_1 | progress_1
	else
		source $0
	fi	
	source $0	

else
exit 0

fi
exit 0
